### ระบบขอรายงาน (Report Request System)

ระบบขอรายงานเป็นแอปพลิเคชันเว็บที่พัฒนาด้วย PHP และ MySQL สำหรับการจัดการคำขอรายงานในองค์กร ระบบนี้ช่วยให้ผู้ใช้สามารถส่งคำขอรายงาน แนบไฟล์ และติดตามสถานะของคำขอได้ ในขณะที่ผู้ดูแลระบบสามารถจัดการคำขอและอัปเดตสถานะได้

## ความต้องการของระบบ

- PHP 7.4 หรือสูงกว่า
- MySQL 5.7 หรือสูงกว่า
- เว็บเซิร์ฟเวอร์ (Apache, Nginx)
- เบราว์เซอร์ที่รองรับ JavaScript และ CSS3


## วิธีการติดตั้ง

### 1. ดาวน์โหลดและติดตั้งไฟล์

1. ดาวน์โหลดไฟล์ทั้งหมดและอัปโหลดไปยังเซิร์ฟเวอร์ของคุณ
2. สร้างโฟลเดอร์ `uploads` ในโฟลเดอร์หลักของโปรเจค และตั้งค่าสิทธิ์ให้สามารถเขียนได้:

```shellscript
mkdir uploads
chmod 755 uploads
```




### 2. ตั้งค่าฐานข้อมูล

1. สร้างฐานข้อมูลใหม่ในเซิร์ฟเวอร์ MySQL ของคุณ
2. นำเข้าไฟล์ `database.sql` เพื่อสร้างตารางและข้อมูลเริ่มต้น:

```shellscript
mysql -u username -p database_name < database.sql
```

หรือใช้ phpMyAdmin เพื่อนำเข้าไฟล์ SQL




### 3. ตั้งค่าการเชื่อมต่อฐานข้อมูล

แก้ไขไฟล์ `config/database.php` เพื่อกำหนดค่าการเชื่อมต่อฐานข้อมูล:

```php
private $host = 'localhost';     // ชื่อโฮสต์ของฐานข้อมูล
private $db_name = 'report_request_system';  // ชื่อฐานข้อมูล
private $username = 'root';      // ชื่อผู้ใช้ฐานข้อมูล
private $password = '';          // รหัสผ่านฐานข้อมูล
```

### 4. บัญชีผู้ดูแลระบบเริ่มต้น

ระบบมีบัญชีผู้ดูแลระบบเริ่มต้นดังนี้:

- **ชื่อผู้ใช้**: admin
- **รหัสผ่าน**: admin123


**หมายเหตุ**: ควรเปลี่ยนรหัสผ่านทันทีหลังจากเข้าสู่ระบบครั้งแรก โดยการแก้ไขในฐานข้อมูลโดยตรง

## วิธีการใช้งานเบื้องต้น

### สำหรับผู้ใช้ทั่วไป

#### การส่งคำขอรายงาน

1. เข้าสู่หน้าหลักของระบบ
2. กรอกแบบฟอร์มขอรายงาน:

1. ชื่อ-นามสกุลผู้ขอ
2. ชื่อรายงาน
3. รายละเอียดข้อมูลที่ต้องการ
4. แนบไฟล์ (ถ้ามี)



3. คลิกปุ่ม "ส่งคำขอ"
4. ระบบจะแสดงหมายเลขคำขอเพื่อใช้ในการติดตามสถานะ


#### การดูรายการคำขอและติดตามสถานะ

1. คลิกที่เมนู "รายการคำขอ"
2. ระบบจะแสดงรายการคำขอทั้งหมด
3. คลิกที่ "ดูรายละเอียด" เพื่อดูข้อมูลเพิ่มเติมของคำขอ
4. ในหน้ารายละเอียด คุณสามารถ:

1. ดูสถานะปัจจุบันของคำขอ
2. ดูไฟล์แนบ (สามารถคลิกที่รูปภาพเพื่อดูขนาดใหญ่)
3. แสดงความคิดเห็นเพื่อสอบถามหรือให้ข้อมูลเพิ่มเติม





### สำหรับผู้ดูแลระบบ

#### การเข้าสู่ระบบผู้ดูแล

1. คลิกที่เมนู "เข้าสู่ระบบผู้ดูแล"
2. กรอกชื่อผู้ใช้และรหัสผ่าน
3. คลิกปุ่ม "เข้าสู่ระบบ"


#### การจัดการคำขอรายงาน

1. หลังจากเข้าสู่ระบบ คุณจะเห็นรายการคำขอทั้งหมด
2. คลิกที่ "ดูรายละเอียด" เพื่อดูข้อมูลเพิ่มเติมของคำขอ
3. ในหน้ารายละเอียด คุณสามารถ:

1. อัปเดตสถานะของคำขอ (รอดำเนินการ, กำลังดำเนินการ, เสร็จสิ้น)
2. ดูไฟล์แนบและดาวน์โหลด
3. แสดงความคิดเห็นเพื่อสื่อสารกับผู้ขอ





#### การออกจากระบบ

1. คลิกที่เมนู "ออกจากระบบ" เพื่อออกจากระบบผู้ดูแล


## โครงสร้างไฟล์

```plaintext
/
├── admin/                  # ไฟล์สำหรับผู้ดูแลระบบ
│   ├── index.php           # หน้าหลักผู้ดูแล
│   ├── login.php           # หน้าเข้าสู่ระบบ
│   ├── logout.php          # สคริปต์ออกจากระบบ
│   └── view_request.php    # หน้าดูรายละเอียดคำขอ
├── api/                    # API สำหรับการทำงานแบบ AJAX
│   ├── add_comment.php     # API เพิ่มความคิดเห็น
│   ├── get_comments.php    # API ดึงข้อมูลความคิดเห็น
│   └── submit_request.php  # API ส่งคำขอรายงาน
├── config/                 # ไฟล์การตั้งค่า
│   └── database.php        # การเชื่อมต่อฐานข้อมูล
├── css/                    # ไฟล์ CSS
│   └── style.css           # สไตล์ชีทหลัก
├── js/                     # ไฟล์ JavaScript
│   └── main.js             # สคริปต์หลัก
├── uploads/                # โฟลเดอร์สำหรับเก็บไฟล์ที่อัปโหลด
├── database.sql            # ไฟล์ SQL สำหรับสร้างฐานข้อมูล
├── index.php               # หน้าหลักของระบบ
├── requests.php            # หน้าแสดงรายการคำขอ
├── view_request.php        # หน้าดูรายละเอียดคำขอ
└── README.md               # ไฟล์คำอธิบายโปรเจค
```

## คุณสมบัติหลัก

- **การส่งคำขอรายงาน**: ผู้ใช้สามารถส่งคำขอรายงานพร้อมรายละเอียดและไฟล์แนบ
- **การอัปโหลดไฟล์**: รองรับการอัปโหลดไฟล์หลายประเภท (รูปภาพ, เอกสาร, ไฟล์ Excel)
- **การติดตามสถานะ**: ผู้ใช้สามารถติดตามสถานะของคำขอได้
- **ระบบความคิดเห็น**: ผู้ใช้และผู้ดูแลสามารถสื่อสารผ่านระบบความคิดเห็น
- **การจัดการคำขอ**: ผู้ดูแลสามารถอัปเดตสถานะและจัดการคำขอได้
- **การดูรูปภาพขนาดใหญ่**: คลิกที่รูปภาพเพื่อดูในขนาดใหญ่
- **การยกเลิกไฟล์อัปโหลด**: สามารถยกเลิกไฟล์ที่เลือกก่อนส่งฟอร์มได้


## การแก้ไขปัญหาเบื้องต้น

### ไม่สามารถอัปโหลดไฟล์ได้

1. ตรวจสอบว่าโฟลเดอร์ `uploads` มีอยู่และมีสิทธิ์ในการเขียน
2. ตรวจสอบขนาดไฟล์ที่อัปโหลด (ค่าเริ่มต้นของ PHP มักจำกัดที่ 2MB)
3. แก้ไขไฟล์ `php.ini` เพื่อเพิ่มขนาดไฟล์ที่อนุญาต:

```plaintext
upload_max_filesize = 10M
post_max_size = 10M
```




### ปัญหาการเชื่อมต่อฐานข้อมูล

1. ตรวจสอบว่าข้อมูลการเชื่อมต่อใน `config/database.php` ถูกต้อง
2. ตรวจสอบว่าฐานข้อมูลและตารางถูกสร้างอย่างถูกต้อง
3. ตรวจสอบว่าผู้ใช้ฐานข้อมูลมีสิทธิ์ที่เพียงพอ


### ปัญหาการแสดงผลรูปภาพ

1. ตรวจสอบว่าเส้นทางไฟล์ในฐานข้อมูลถูกต้อง
2. ตรวจสอบสิทธิ์การอ่านของไฟล์รูปภาพ


## การอัปเดตและการบำรุงรักษา

- ควรสำรองข้อมูลฐานข้อมูลเป็นประจำ
- ตรวจสอบและลบไฟล์ที่ไม่ได้ใช้งานในโฟลเดอร์ `uploads` เป็นระยะ
- อัปเดต PHP และ MySQL เพื่อความปลอดภัย